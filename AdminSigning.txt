import java.util.ArrayList;

public class UsersSigning implements Signing {
    private String username;
    private String password;
    private ArrayList<String> users = new ArrayList<>();

    public UsersSigning() {
        menu();
    }

    public void menu() {
        int option = printMenu();
        if (option == 1)
            signIN();
        if (option == 2)
            signUP();
    }

    @Override
    public void signUP() {
        System.out.print("Please Enter your favorable username: ");
        username = input.next();
        System.out.print("Please Enter your favorable password: ");
        password = input.next();
        checkSignUp();
    }

    @Override
    public void signIN() {
        System.out.print("Please Enter your username: ");
        username = input.next();
        System.out.print("Please Enter your password: ");
        password = input.next();
        checkSignIn();
    }

    @Override
    public void checkSignUp() {
        String concat = username + " " + password;
        System.out.println("Your username and password are successfully submitted.");
        if ((!username.equals("Admin") && !password.equals("Admin")) || search(concat)) {
            System.out.println("Either Username or password has already taken.");
            while (search(concat)) {
                System.out.print("Try another username: ");
                username = input.next();
                System.out.print("And another password: ");
                password = input.next();
                concat = username + " " + password;
            }

        } else {
            System.out.println("Your username and password are successfully submitted.");
            users.add(concat);
            menu();
        }
    }

    private boolean search(String concat) {
        for (Object c : users) {
            if (concat == c)
                return true;
        }
        return false;
    }

    @Override
    public void checkSignIn() {
        if (username.equals("Admin") && password.equals("Admin")) {
            Admin admin = new Admin();
            System.out.println("Welcome Back Admin!");
            admin.adminMenu();
        } else {
            // search the users data
            System.out.println("");
            // is a new user.
        }
    }
}